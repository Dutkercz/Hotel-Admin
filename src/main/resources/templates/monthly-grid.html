<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Tabela de Ocupação</title>
    <link rel="icon" type="image/png" th:href="@{/images/favicon.png}">
</head>
<body class="bg-slate-50 min-h-screen flex items-center flex-col p-8">

<div class="bg-white rounded-3xl shadow-2xl p-12 w-full max-w-8xl mx-auto my-12">

    <div class="flex items-center justify-center gap-6 mb-2">
        <a th:href="@{/}"
           class="bg-sky-600 text-white px-6 py-2 rounded-xl shadow-md hover:bg-sky-700 transition-all font-semibold transform hover:scale-105">
            Página Inicial
        </a>
        <h1 class="text-slate-800 font-extrabold mb-6 text-5xl drop-shadow-sm">
            Tabela de Ocupação
        </h1>
        <a th:href="@{/stays/monthly-grid?(filtro=${filtro == 'hoje' ? '' : 'hoje'})}"
           class="bg-sky-600 text-white px-6 py-2 rounded-xl shadow-md hover:bg-sky-700 transition-all font-semibold transform hover:scale-105">
            <span th:text="${filtro == 'hoje' ? 'Mostrar todos os dias' : 'Mostrar a partir de hoje'}"></span>
        </a>
    </div>

    <div class="overflow-x-auto rounded-3xl shadow-xl border border-slate-200">
        <table class="min-w-full text-center text-sm">
            <thead class="bg-sky-600 text-white text-base">
            <tr>
                <th class="py-4 px-4 font-bold rounded-tl-3xl">Dia</th>
                <th th:each="r : ${rooms}" th:text="${r.number}" class="py-4 px-4 font-bold"></th>
            </tr>
            </thead>
            <tbody class="divide-y divide-slate-200 text-slate-700">
            <tr th:each="d : ${days}"
                th:class="${d == today} ? 'bg-blue-100 font-extrabold' : 'hover:bg-slate-50 transition-colors'">
                <td class="px-4 py-3 border-r border-slate-200 font-bold"
                    th:text="${d < 10 ? '0'+ d + '/' + actualMonth + '/' + actualYear : d + '/' + actualMonth + '/' + actualYear}"></td>

                <td th:each="room : ${rooms}" th:switch="${statusMap[d.toString()][room.id]}"
                    class="px-4 py-2 border-r border-slate-200 last:border-r-0">
                    <span th:case="'OCCUPIED'"
                          class="bg-red-100 text-red-700 border border-red-200">
                        Ocupado
                    </span>
                    <span th:case="'AVAILABLE'"
                          class="rounded-lg px-2 py-1 bg-emerald-100 text-emerald-700 border border-emerald-200">
                        Livre
                    </span>
                    <span th:case="'MAINTENANCE'"
                          class="rounded-lg bg-amber-100 text-amber-700 border border-amber-200">
                        Manutenção
                    </span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<footer class="w-full text-center p-6 bg-slate-800 flex flex-col items-center justify-center mt-12">
    <div class="flex items-center space-x-4 mb-2">
        <h4 class="text-white font-semibold text-lg">Nos siga nas redes sociais</h4>
        <a href="https://www.google.com" target="_blank" rel="noopener noreferrer"
           class="text-white font-semibold px-6 py-2 bg-gradient-to-tr from-purple-500 via-pink-500 to-yellow-500 rounded-full hover:shadow-lg transition-transform transform hover:scale-105">
            Instagram
        </a>
    </div>
    <h5 class="p-2 text-slate-400 font-normal text-sm">CNPJ: 88.727.599/0001-00</h5>
</footer>

</body>
</html>
